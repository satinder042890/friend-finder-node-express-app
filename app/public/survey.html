<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<link href="https://fonts.googleapis.com/css?family=Luckiest+Guy|Monoton" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

<!-- ------------------------------------------------------- -->
<!-- CSS CODE -->
<!-- ------------------------------------------------------- -->
<style>
    body {
        background: url("https://st2.depositphotos.com/2739581/8657/i/950/depositphotos_86574488-stock-photo-lemon-yellow-abstract-fractal-background.jpg")
    }

    .jumbotron {
        background: black;
    }

    img {
        height: 200px;
        width: 100%;
    }

    .about {
        background: teal;
        padding: 1%;

    }

    hr {
        border: 2px solid;
    }

    .radio {
        word-spacing: 2em;

    }

    .card {
        background: black;
    }

    a {
        color: black;
        border-right: 2px solid black;
        padding: 1%;
    }

    a:hover {
        color: red;
    }

    #matchPic {
        height: 500px;
        width: 100%;
    }
</style>

<body>
    <div class="container">
        <div class="jumbotron">
            <img src="https://www.logolynx.com/images/logolynx/51/5148cb7179795ccbebca6c18da7dbbab.png">
        </div>
    </div>
    <div class="container">
        <div class="about">
            <h1 class="h1">About You</h1>
            <hr>
            <form>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <h4><label for="Name">Name</label>
                            <input type="text" class="form-control" placeholder="First Name" id="userName"></h4>
                    </div>
                    <div class="form-group col-md-6">
                        <h4><label for="link">Link To Photo Image(Required)</label>
                            <input type="text" class="form-control" placeholder="Image Link" id="pic"></h4>
                    </div>
                </div>
            </form>
            <!--  List of questions   -->
            <ol>

                <h4>
                    <li>
                        <p>Champagne is your favorite summer drink?</p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio1" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio1" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio1" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio1" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio1" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> You are pretty much the loudest person in every room?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio2" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio2" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio2" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio2" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio2" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>
                <h4>
                    <li>
                        <p> Scary movies are my favorite?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio3" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio3" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio3" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio3" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio3" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> I see myself as disorganized?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio4" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio4" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio4" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio4" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio4" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> I see myself as dependable?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio5" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio5" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio5" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio5" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio5" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> Black Color Looks Best On You?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio6" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio6" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio6" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio6" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio6" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> I typically do not rise before noon?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio7" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio7" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio7" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio7" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio7" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> Your family motivates you?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio8" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio8" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio8" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio8" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio8" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> Christmas is your favority holiday?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio9" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio9" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio9" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio9" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio9" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>

                <h4>
                    <li>
                        <p> Family time with kids is your favorite activity?
                        </p>
                </h4>
                <div class="radio">
                    <h5>
                        <label for="choice">Strongly-Disagree</label>
                        <label class="radio-inline"><input type="radio" name="optradio10" value="1">1</label>
                        <label class="radio-inline"><input type="radio" name="optradio10" value="2">2</label>
                        <label class="radio-inline"><input type="radio" name="optradio10" value="3">3</label>
                        <label class="radio-inline"><input type="radio" name="optradio10" value="4">4</label>
                        <label class="radio-inline"><input type="radio" name="optradio10" value="5">5</label>
                        <label for="choice">Strongly-Agree</label>
                    </h5>
                </div>
                </li>
            </ol>

            <button type="button" class="btn btn-warning btn-lg btn-block" id="submit">Submit</button>
        </div>
        <br>
        <!-- Links to git hub and json data -->
        <h5> <a href="/api/friends">API Friend List</a>
            <a href="https://github.com/satinder042890/friend-finder-node-express-app">GitHub Repo</a>
        </h5>
    </div>
    <!-- Modal that pop up with matching personality of user -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Best Match </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h1 id="matchName"></h1>
                    <img id="matchPic" src="" alt="not found">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>

<!-- Javascript code to send user data to the server -->
<script>
    $("#submit").on("click", function () {
        var check=true;
        var total = [];
        var nameValue = $("#userName").val().trim();
        var picValue = $("#pic").val().trim();
        console.log(nameValue);
        $("input:radio").each(function () {
            var name = $(this).attr("name");
            if ($("input:radio[name=" + name + "]:checked").length == 0) {
                check = false;
            }
        });
        if (!picValue) {
            check = false;
        }
        if (!nameValue  || nameValue.length < 5 || (!(/^\S{3,}$/.test(nameValue)))  ||  (!(/^[a-zA-Z]+$/.test(nameValue)))  || (!(/^(?:(\w)(?!\1\1))+$/.test(nameValue)))) {
            check=false;
        }
        if (!check) {
            alert("please enter all the values correctly");
        }
        else {
            var newFriend = {
                name: $("#userName").val().trim(),
                photo: $("#pic").val().trim(),
                scores: [
                    $("input[name=optradio1]:checked").val(),
                    $("input[name=optradio2]:checked").val(),
                    $("input[name=optradio3]:checked").val(),
                    $("input[name=optradio4]:checked").val(),
                    $("input[name=optradio5]:checked").val(),
                    $("input[name=optradio6]:checked").val(),
                    $("input[name=optradio7]:checked").val(),
                    $("input[name=optradio8]:checked").val(),
                    $("input[name=optradio9]:checked").val(),
                    $("input[name=optradio10]:checked").val(),
                ]
            }
            $.post("/api/friends", newFriend).then(function (data) {
                console.log(data);
                $("#matchName").text(data.name);
                $("#matchPic").attr("src", data.photo);
                $('#exampleModalCenter').modal('toggle')
            });
        }
    });

</script>

</html>